<ion-card>
    <div style="width: 100%; height:100%; text-align: center; margin-top: -30px" *ngIf="showSpinner">
        <app-spinner></app-spinner>
    </div>
    <ion-card-header *ngIf="showContent" [class]="'hide-sm-down'"
        style="border-radius: 2px;box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.04);">
        <div style="right: 75px;top: 25px;position: absolute;">
            <p
                style="margin-top: 16px;opacity: 0.8;font-size: 12px;font-weight: bold;color: #43425d;display: inline-block;padding-right: 10px;">
                Edit
                Mode: {{toggleValue}}</p>
            <div style="display: inline-block;position: absolute;margin-top: 12px;">
                <ion-toggle style="zoom:0.70;--background: #a5a4bf;" mode="ios" color="secondary"
                    (ionChange)="mainToggle($event)">
                </ion-toggle>
            </div>
        </div>
        <div class="fullContainer">
            <div class="left">
                <ion-avatar class="avatar" *ngIf="url && url.details[0].PROFILE_PICTURE !== null">
                    <img src="{{url.link + url.details[0].PROFILE_PICTURE}}">
                </ion-avatar>
                <ion-avatar slot="start" class="avatar" *ngIf="url && url.details[0].PROFILE_PICTURE === null">
                    <img src="assets/icon/picture.png">
                </ion-avatar>
            </div>
            <div class="right" *ngIf="personalList">
                <ion-card-subtitle style="color: #43425d;opacity: 0.8;font-weight: bold;">
                    {{personalList.employeeName}}
                </ion-card-subtitle>
                <ion-card-subtitle class="subtitle">
                    {{personalList.employeeDesignation}}</ion-card-subtitle>
                <ion-card-subtitle class="subtitle">{{personalList.employeeDepartment}}
                </ion-card-subtitle>
                <ion-card-subtitle class="subtitle" *ngIf="employDetails">
                    {{employDetails.employmentDetail.branch}}
                </ion-card-subtitle>
            </div>
            <!-- <div class="left">
                <ion-avatar class="avatar">
                    <img src="assets/icon/chris.jpg">
                </ion-avatar>
            </div>
            <div class="right" *ngIf="personalList">
                <ion-card-title>{{personalList.employeeName}}</ion-card-title>
                <div style="display:inline-block; padding-top: 10px;">
                    <ion-card-subtitle class="subtitle">
                        {{personalList.employeeDesignation}}</ion-card-subtitle>
                    <i class="fas fa-circle"></i>
                    <ion-card-subtitle class="subtitle">{{personalList.employeeDepartment}}
                    </ion-card-subtitle>
                </div>
                <div style="padding-top: 10px;">
                    <div class="marker-icon" [inlineSVG]="'assets/icon/user_profile/pin.svg'"></div>
                    <ion-card-subtitle class="subtitle" style="padding-left:8px" *ngIf="employ">
                        {{employ.employmentDetail.workLocation}}
                    </ion-card-subtitle>
                </div>
            </div> -->
        </div>
    </ion-card-header>
    <ion-card-header *ngIf="showContent" [class]="'hide-sm-up'"
        style="border-radius: 2px;box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.04);flex-flow: column-reverse;">
        <div class="fullContainer" style="flex-flow: inherit;">
            <div class="left">
                <ion-avatar class="avatar" *ngIf="url && url.details[0].PROFILE_PICTURE !== null">
                    <img src="{{url.link + url.details[0].PROFILE_PICTURE}}">
                </ion-avatar>
                <ion-avatar slot="start" class="avatar" *ngIf="url && url.details[0].PROFILE_PICTURE === null">
                    <img src="assets/icon/picture.png">
                </ion-avatar>
            </div>
            <div class="right" *ngIf="personalList">
                <ion-card-subtitle style="color: #43425d;opacity: 0.8;font-weight: bold;">
                    {{personalList.employeeName}}
                </ion-card-subtitle>
                <ion-card-subtitle class="subtitle">
                    {{personalList.employeeDesignation}}</ion-card-subtitle>
                <ion-card-subtitle class="subtitle">{{personalList.employeeDepartment}}
                </ion-card-subtitle>
                <ion-card-subtitle class="subtitle" *ngIf="employDetails">
                    {{employDetails.employmentDetail.branch}}
                </ion-card-subtitle>
            </div>
        </div>
        <div style="margin-left: 150px;margin-right: 33px;">
            <p
                style="margin-top: 16px;opacity: 0.8;font-size: 12px;font-weight: bold;color: #43425d;display: inline-block;padding-right: 10px;">
                Edit
                Mode: {{toggleValue}}</p>
            <div style="display: inline-block;position: absolute;margin-top: 12px;">
                <ion-toggle style="zoom:0.70;--background: #a5a4bf;" mode="ios" color="secondary"
                    (ionChange)="mainToggle($event)">
                </ion-toggle>
            </div>
        </div>
    </ion-card-header>
    <div class="cardContent" *ngIf="personalList && showContent">
        <ion-card-content [class]="'hide-lg-down'">
            <div
                style="border-radius: 2px;box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.04);background-color: #ffffff;padding: 10px;padding-bottom: 20px;margin-bottom: 20px;">
                <div
                    style="font-size: 13px;width:100%;background: #f5f6fa;padding: 5px;padding-left: 15px;color: #a3a6b4;font-weight: bold;">
                    <ion-row>
                        <ion-col size="4" style="display: inline-flex;text-overflow: ellipsis;
                            white-space: nowrap;overflow: hidden;">
                            <ion-label style="color: #a3a6b4;font-weight: bold;">CERTIFICATE NAME</ion-label>
                        </ion-col>
                        <ion-col style="text-overflow: ellipsis; white-space: nowrap;overflow:
                            hidden;" [style.text-align]="toggleValue=== 'ON'? 'left': 'center'">
                            <ion-label style="color: #a3a6b4;font-weight: bold;">ENROLL YEAR</ion-label>
                        </ion-col>
                        <ion-col style="text-overflow: ellipsis;
                            white-space: nowrap;overflow: hidden;"
                            [style.text-align]="toggleValue=== 'ON'? 'left': 'center'">
                            <ion-label style="color: #a3a6b4;font-weight: bold;">GRADUATE YEAR</ion-label>
                        </ion-col>
                        <ion-col style="text-overflow: ellipsis;
                            white-space: nowrap;overflow: hidden;">
                        </ion-col>
                    </ion-row>
                </div>


                <ion-row class="detailsRow" *ngFor="let item of awards; let i = index">
                    <ion-col size="4"
                        style="text-overflow: ellipsis;white-space: pre-wrap;overflow: hidden;padding-top: 20px;">
                        <span *ngIf="toggleValue === 'OFF'">{{item.certificationName}}</span>
                        <mat-form-field *ngIf="toggleValue === 'ON'" style="width: 100%;">
                            <input matInput placeholder="Certification Name" [(ngModel)]="item.certificationName">
                        </mat-form-field>
                    </ion-col>
                    <ion-col class="colOfLeave" style="text-align: center;text-overflow: ellipsis;
                    white-space: nowrap;overflow: hidden;padding-top: 20px;">
                        <span *ngIf="toggleValue === 'OFF'">{{item.certificationEnrollYear}}</span>
                        <mat-form-field *ngIf="toggleValue === 'ON'" style="width: 100%;">
                            <input matInput placeholder="Certification enroll year"
                                [(ngModel)]="item.certificationEnrollYear">
                        </mat-form-field>
                    </ion-col>
                    <ion-col class="colOfLeave" style="text-align: center;text-overflow: ellipsis;
                    white-space: nowrap;overflow: hidden;padding-top: 20px;">
                        <span *ngIf="toggleValue === 'OFF'">{{item.certificationGraduateYear}}</span>
                        <mat-form-field *ngIf="toggleValue === 'ON'" style="width: 100%;">
                            <input matInput placeholder="Certification graduate year"
                                [(ngModel)]="item.certificationGraduateYear">
                        </mat-form-field>
                    </ion-col>
                    <ion-col
                        style="text-overflow: ellipsis;white-space: nowrap;overflow: hidden;text-align: center;padding-top: 20px;">
                        <ion-button *ngIf="toggleValue === 'ON'" fill="outline" (click)="file.click();"
                            style="background: #f0f0f7;font-size: 12px;height: 30px;width: 124px;display: inline-block; text-transform: capitalize"
                            color="primary">Attachment
                        </ion-button>
                        <a class="contentText" [style.text-align]="toggleValue=== 'ON'? 'center': 'left'"
                            style="display: block;text-overflow: ellipsis;white-space: nowrap;overflow: hidden;"
                            [href]="items.link+item.certificationAttachment"
                            download>{{item.certificationAttachment}}</a>
                    </ion-col>
                    <ion-col size="0.5" *ngIf="toggleValue === 'ON'" style="padding-top: 20px">
                        <div class="education-delete-icon" [inlineSVG]="'assets/icon/option/trash.svg'"
                            (click)="deleteItem(i, awards)">
                        </div>
                    </ion-col>
                    <br>
                    <br>
                    <input style="display:none" #file name="file" type="file"
                        (change)="preview($event.target.files, i)">
                </ion-row>
                <ion-row class="detailsRow" *ngIf="toggleValue === 'ON'">
                    <ion-icon name="add-circle-outline" style="color: #3b86ff;padding-top: 2px;padding-right: 10px;
        padding-left: 0.5%;font-size: 16px;cursor: pointer;" (click)="addInput(awards, awardObj)"></ion-icon>
                    <span style="color:#3b86ff;">
                        Add award or certification</span>
                </ion-row>
            </div>
        </ion-card-content>
        <ion-card-content [class]="'hide-lg-up'">
            <ion-card
                style="background: #ffffff; box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.04); padding: 15px; margin: 10px;"
                *ngFor="let item of awards; let i = index">
                <ion-card-content>
                    <ion-item-group style="margin: 0px 0px 15px auto;">
                        <div
                            style="font-weight: bold; color: #a3a6b4; background: #f5f6fa; margin-bottom: 10px; height: 42px; padding-top: 10px; padding-left: 15px;">
                            CERTIFICATE NAME</div>
                        <div *ngIf="toggleValue === 'OFF'" style="padding: 0px 15px;">{{item.certificationName}}</div>
                        <mat-form-field *ngIf="toggleValue === 'ON'" style="width: 100%; padding: 0px 15px;">
                            <input matInput placeholder="Certification Name" [(ngModel)]="item.certificationName">
                        </mat-form-field>
                    </ion-item-group>
                    <ion-item-group style="margin: 0px 0px 15px auto;">
                        <div
                            style="font-weight: bold; color: #a3a6b4; background: #f5f6fa; margin-bottom: 10px; height: 42px; padding-top: 10px; padding-left: 15px;">
                            ENROLL YEAR</div>
                        <div *ngIf="toggleValue === 'OFF'" style="padding: 0px 15px;">{{item.certificationEnrollYear}}
                        </div>
                        <mat-form-field *ngIf="toggleValue === 'ON'" style="width: 100%; padding: 0px 15px;">
                            <input matInput placeholder="Certification enroll year"
                                [(ngModel)]="item.certificationEnrollYear">
                        </mat-form-field>
                    </ion-item-group>
                    <ion-item-group style="margin: 0px 0px 15px auto;">
                        <div
                            style="font-weight: bold; color: #a3a6b4; background: #f5f6fa; margin-bottom: 10px; height: 42px; padding-top: 10px; padding-left: 15px;">
                            GRADUATE YEAR</div>
                        <div *ngIf="toggleValue === 'OFF'" style="padding: 0px 15px;">{{item.certificationGraduateYear}}
                        </div>
                        <mat-form-field *ngIf="toggleValue === 'ON'" style="width: 100%; padding: 0px 15px;">
                            <input matInput placeholder="Certification graduate year"
                                [(ngModel)]="item.certificationGraduateYear">
                        </mat-form-field>
                    </ion-item-group>
                    <ion-item-group style="margin-left: 15px;"
                        [style.margin-bottom.px]="toggleValue === 'OFF'? '15':''">
                        <!-- <div style="margin: 10px auto; text-decoration: underline;cursor: pointer; text-align: end;">
                            {{item.certificationAttachment}}
                        </div> -->
                        <a class="contentText"
                            style="display: block;text-overflow: ellipsis;white-space: nowrap;overflow: hidden;"
                            [href]="items.link+item.certificationAttachment"
                            download>{{item.certificationAttachment}}</a>

                        <ion-button *ngIf="toggleValue === 'ON'" fill="outline" (click)="file.click();"
                            style="background: #f0f0f7;font-size: 12px; height: 30px;width: 124px;display: inline-block; text-transform: capitalize"
                            color="primary">Attachment
                        </ion-button>

                        <div *ngIf="toggleValue === 'ON'" class="education-delete-icon" style="margin: auto 15px;"
                            [inlineSVG]="'assets/icon/option/trash.svg'" (click)="deleteItem(i, awards)">
                        </div>
                    </ion-item-group>
                </ion-card-content>
            </ion-card>
            <ion-row class="detailsRow" style="margin-left: 15px;" *ngIf="toggleValue === 'ON'">
                <ion-icon name="add-circle-outline" style="color: #3b86ff;padding-top: 2px;padding-right: 10px;
                    padding-left: 0.5%;font-size: 16px;cursor: pointer;" (click)="addInput(awards, awardObj);">
                </ion-icon>
                <span style="color:#3b86ff;">
                    Add award or certification</span>
            </ion-row>
        </ion-card-content>
    </div>
</ion-card>