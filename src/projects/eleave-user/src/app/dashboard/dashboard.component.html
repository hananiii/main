<!-------------------------------- show annual details menu ---------------------------------->
<ion-menu contentId="annualMenuContent" side="end" type="overlay" menuId="viewAnnualDetails"
    (ionDidClose)="menuOpen=false">
    <ion-header style="background-color:#43425d; color: #fcfcfc;">
        <img style="margin: 17px;width: 22px;height: 17px;float:left"
            src="assets/icon/dashboard/icon All Holidays@3x.png">
        <p style="line-height: 1.27;font-size: 11px;color: #fcfcfc;font-weight: bold;margin: 20px;">ANNUAL LEAVE</p>
    </ion-header>

    <ion-content *ngIf="annualVal">
        <div style="display: block">
            <i class="material-icons" style="font-size: 8px;margin: 16px;color: #43425d;">fiber_manual_record</i>
            <!-- <img style="margin: 15px;width: 12px;height:12px;float:left" src="assets/icon/dashboard/arrow_right.png"> -->
            <p style="display:inline-block;color: #4d4f5c; font-weight:bold;font-size:11px;line-height: 1.82;">
                {{annualVal.BALANCE_DAYS - annualVal.CF_DAYS | number : '1.2-2'}} days balance
                for this year </p>
        </div>
        <div style="display: block">
            <i class="material-icons" style="font-size: 8px;margin: 16px;color: #43425d;">fiber_manual_record</i>
            <!-- <img style="margin: 15px;width: 12px;height:12px;float:left" src="assets/icon/dashboard/arrow_right.png"> -->
            <p *ngIf="annualVal.CF_DAYS != null"
                style="display: inline-block;color: #4d4f5c; font-weight:bold;font-size:11px;line-height: 1.82;">
                {{annualVal.CF_DAYS | number : '1.2-2'}} days carry
                forward from last year</p>
            <p *ngIf="annualVal.CF_DAYS == null"
                style="display: inline-block;color: #4d4f5c; font-weight:bold;font-size:11px;line-height: 1.82;">
                0.00 days carry
                forward from last year</p>
        </div>
        <p
            style="margin-left: 42px;opacity: 0.8;font-size: 10px;line-height: 2;color: #4d4f5c;margin-bottom: 0;margin-top: 0;">
            Total Annual Leave
        </p>
        <p style="margin-left: 42px;color: #4d4f5c; font-weight:bold;font-size:11px;line-height: 1.82;margin-top: 0;
            margin-bottom: 0;"> {{annualVal.BALANCE_DAYS | number : '1.2-2'}} Days</p>
        <p style="margin-left: 42px;font-size: 11px;font-weight: bold;line-height: 1.82;color: #ff6768;">
            *Expiring
            in {{annualDaysToGo}} days</p>
        <ion-item class="divider" lines="full"></ion-item>

        <div style="text-align: center;margin:30px">
            <ion-button [routerLink]="['/main/plan-my-leave']"
                style="font-size: 11px;height: 30px;width:124px;cursor: pointer;text-transform: none;" color="primary">
                Plan My Leave
            </ion-button>
        </div>
    </ion-content>
</ion-menu>
<ion-router-outlet id="annualMenuContent"></ion-router-outlet>


<!-------------------------------- show replacement details menu---------------------------------->
<ion-menu contentId="replacementMenuContent" side="end" type="overlay" menuId="viewReplacementDetails"
    (ionDidClose)="menuOpen=false">
    <ion-header style="background-color:#43425d; color: #fcfcfc;">
        <img style="margin: 17px;width: 22px;height: 17px;float:left"
            src="assets/icon/dashboard/icon All Holidays@3x.png">
        <p style="line-height: 1.27;font-size: 11px;color: #fcfcfc;font-weight: bold;margin: 20px;">REPLACEMENT LEAVE
        </p>
    </ion-header>

    <ion-content>
        <div style="display: block">
            <i class="material-icons" style="font-size: 8px;margin: 16px;color: #43425d;">fiber_manual_record</i>
            <p style="display:inline-block;color: #4d4f5c; font-weight:bold;font-size:11px;line-height: 1.82;">
                Current replacement leave </p>
        </div>
        <p
            style="margin-left: 42px;opacity: 0.8;font-size: 10px;line-height: 2;color: #4d4f5c;margin-bottom: 0;margin-top: 0;">
            Replacement Leave
        </p>
        <p style="margin-left: 42px;color: #4d4f5c; font-weight:bold;font-size:11px;line-height: 1.82;margin-top: 0;
            margin-bottom: 0;"> {{replaceVal | number : '1.2-2'}} Days</p>
        <p *ngIf="replaceVal != 0"
            style="margin-left: 42px;font-size: 11px;font-weight: bold;line-height: 1.82;color: #ff6768;">
            *Expiring on {{expiredDate | date:'d MMM yyyy'}}</p>
        <ion-item class="divider" lines="full"></ion-item>

        <div style="display: block" *ngIf="expiredRL !== 0">
            <i class="material-icons" style="font-size: 8px;margin: 16px;color: #43425d;">fiber_manual_record</i>
            <p style="display: inline-block;color: #4d4f5c; font-weight:bold;font-size:11px;line-height: 1.82;">
                Previous replacement leave</p>
        </div>
        <p *ngIf="expiredRL !== 0"
            style="margin-left: 42px;opacity: 0.8;font-size: 10px;line-height: 2;color: #4d4f5c;margin-bottom: 0;margin-top: 0;">
            Replacement Leave
        </p>
        <p *ngIf="expiredRL !== 0" style="margin-left: 42px;color: #4d4f5c; font-weight:bold;font-size:11px;line-height: 1.82;margin-top: 0;
                margin-bottom: 0;"> {{expiredRL | number : '1.2-2'}} Days</p>
        <p *ngIf="expiredRL !== 0"
            style="margin-left: 42px;font-size: 11px;font-weight: bold;line-height: 1.82;color: #ff6768;"> *Expired</p>
        <ion-item *ngIf="expiredRL !== 0" class="divider" lines="full"></ion-item>

        <div style="text-align: center;margin:30px">
            <ion-button [routerLink]="['/main/plan-my-leave']"
                style="font-size: 11px;height: 30px;width:124px;cursor: pointer;text-transform: none;" color="primary">
                Plan My Leave
            </ion-button>
        </div>
    </ion-content>
</ion-menu>
<ion-router-outlet id="replacementMenuContent"></ion-router-outlet>


<!-------------------------------- show announcement menu---------------------------------->
<ion-menu contentId="announcedMenuContent" side="end" type="overlay" menuId="viewAnnouncementDetails"
    (ionDidClose)="menuOpen=false">
    <ion-header style="background-color:#43425d; color: #fcfcfc;">
        <img style="margin: 17px;width: 20px;height:21px;float:left"
            src="assets/icon/dashboard/icon announcement@3x.png">
        <p style="line-height: 1.27;font-size: 11px;color: #fcfcfc;font-weight: bold;margin: 20px;">ANNOUNCEMENT</p>
    </ion-header>

    <ion-content>
        <ion-list>
            <!-- <ion-list-header>
                            Online
                        </ion-list-header> -->
            <ng-container *ngFor="let item of announcements; let i =index">
                <ion-item *ngIf="i<6 && showallannouncement===false">
                    <ion-label>
                        <p
                            style="color:#4d4f5c; font-weight: bold;font-size: 11px;line-height: 1.82;white-space: normal;">
                            {{item.TITLE}}</p>
                        <p style="opacity: 0.8;font-size: 9px;line-height: 2.22;color: #4d4f5c;">
                            {{item.CREATION_TS | date:'d MMM yyyy'}}
                        </p>
                        <p class="innerText" [innerHTML]="item.MESSAGE"></p>
                        <!-- <ng-container *ngFor="let list of item.ATTACHMENT; let j=index">
                            <img *ngIf="list !== '' && url" src="{{url.link + list}}" style="width: 150px;">
                        </ng-container> -->
                    </ion-label>
                </ion-item>
                <ion-item *ngIf="showallannouncement">
                    <ion-label>
                        <p
                            style="color:#4d4f5c; font-weight: bold;font-size: 11px;line-height: 1.82;white-space: normal;">
                            {{item.TITLE}}</p>
                        <p style="opacity: 0.8;font-size: 9px;line-height: 2.22;color: #4d4f5c;">
                            {{item.CREATION_TS | date:'d MMM yyyy'}}
                        </p>
                        <p [innerHTML]="item.MESSAGE" class="listInnerText"></p>
                        <!-- <ng-container *ngFor="let list of item.ATTACHMENT; let j=index">
                            <img *ngIf="list !== '' && url" src="{{url.link + list}}" style="width: 150px;">
                        </ng-container> -->
                    </ion-label>
                </ion-item>
            </ng-container>
        </ion-list>
        <div style="text-align: center;margin:30px" *ngIf="announcements && announcements.length > 6">
            <ion-button *ngIf="!viewLessAnnouncement" (click)="showallannouncement = true; viewLessAnnouncement = true"
                style="font-size: 11px;height: 30px;width:124px;cursor: pointer;text-transform: none;" color="primary">
                View More
            </ion-button>
            <ion-button *ngIf="viewLessAnnouncement" (click)="showallannouncement = false; viewLessAnnouncement = false"
                style="font-size: 11px;height: 30px;width:124px;cursor: pointer;text-transform: none;" color="primary">
                View Less
            </ion-button>
        </div>
    </ion-content>
</ion-menu>
<ion-router-outlet id="announcedMenuContent"></ion-router-outlet>


<!-------------------------------- show holiday menu---------------------------------->
<ion-menu contentId="holidayMenuContent" side="end" type="overlay" menuId="viewHolidayDetails"
    (ionDidClose)="menuOpen=false">
    <ion-header style="background-color:#43425d; color: #fcfcfc;">
        <img style="margin: 17px;width: 22px;height: 17px;float:left"
            src="assets/icon/dashboard/icon All Holidays@3x.png">
        <p style="line-height: 1.27;font-size: 11px;color: #fcfcfc;font-weight: bold;margin: 20px;">ALL HOLIDAYS</p>
    </ion-header>

    <ion-content>
        <ion-list>
            <ng-container *ngFor="let item of holidays; let i = index;">
                <ion-item *ngIf="i<6 && showall===false">
                    <ion-row style="width: 100%;padding-bottom: 10px;">
                        <ion-col size="4.5">
                            <mat-chip-list>
                                <ion-label
                                    style="padding: 5px;padding-bottom: 0;color:#4d4f5c; font-size:9px;line-height:2.22">
                                    {{item.start}}
                                </ion-label>
                                <mat-chip class="mainChip">
                                    <p
                                        style="white-space: nowrap;width: 100%;text-align: center;color: #ffffff;font-size: 9px;line-height: 2.22;">
                                        {{item.day}}</p>
                                </mat-chip>
                            </mat-chip-list>
                        </ion-col>
                        <ion-col align-self-center
                            style="padding-top: 15px;color:#4d4f5c;font-size:11px;line-height: 1.82;">{{item.title}}
                        </ion-col>
                    </ion-row>
                </ion-item>
                <ion-item *ngIf="showall">
                    <ion-row style="width: 100%;padding-bottom: 10px;">
                        <ion-col size="4.5">
                            <mat-chip-list>
                                <ion-label
                                    style="padding: 5px;padding-bottom: 0;color:#4d4f5c; font-size:9px;line-height:2.22">
                                    {{item.start}}
                                </ion-label>
                                <mat-chip class="mainChip">
                                    <p
                                        style="white-space: nowrap;width: 100%;text-align: center;color: #ffffff;font-size: 9px;line-height: 2.22;">
                                        {{item.day}}</p>
                                </mat-chip>
                            </mat-chip-list>
                        </ion-col>
                        <ion-col align-self-center
                            style="padding-top: 15px;color:#4d4f5c;font-size:11px;line-height: 1.82;">
                            {{item.title}}
                        </ion-col>
                    </ion-row>
                </ion-item>
            </ng-container>
        </ion-list>

        <div style="text-align: center;margin:30px" *ngIf="holidays && holidays.length > 6">
            <ion-button *ngIf="!showViewLessButton" (click)="showall = true; showViewLessButton = true"
                style="font-size: 11px;height: 30px;width:124px;cursor: pointer;text-transform: none;" color="primary">
                View More
            </ion-button>
            <ion-button *ngIf="showViewLessButton" (click)="showall = false; showViewLessButton = false"
                style="font-size: 11px;height: 30px;width:124px;cursor: pointer;text-transform: none;" color="primary">
                View Less
            </ion-button>
        </div>
    </ion-content>
</ion-menu>
<ion-router-outlet id="holidayMenuContent"></ion-router-outlet>


<!-- ------------------------------ Dashboard content ------------------------------- -->
<div class="main">
    <div class="row" *ngIf="row">
        <span style="display: flex; flex-flow: wrap; flex: 1;margin-top: 20px;">
            <div class="annual">
                <p style="color:#43425d;opacity: 0.8;font-weight: bold;line-height: 1.25;font-size: 12px">Annual Leave
                </p>
                <span style="display: flex; justify-content: space-between; min-width: auto;">
                    <ion-label *ngIf="annualVal"
                        style="float: left;font-size: 35px;color: #43425d;font-weight: bold;line-height: 1.26;">
                        {{annualVal.BALANCE_DAYS | number : '1.2-2'}}</ion-label>
                    <img class="annual-icon" src="assets/icon/dashboard/icon_annual_leave@3x.png">
                </span>
                <p style="font-size: 12px;opacity: 0.5;color: #43425d;line-height: 1.25;display: inline-block;
            margin-bottom: 0;width: 100%;">Days Available</p>
                <p *ngIf="annualVal"
                    style="float:left;color: #ff6768;opacity: 0.8;font-weight: bold;font-size: 11px;line-height: 1.36;margin-top: 5px;">
                    {{annualVal.BALANCE_DAYS | number : '1.2-2'}} Expiring in {{annualDaysToGo}} days
                </p>
                <p (click)="menuOpen=true;menu.enable(true, 'viewAnnualDetails');menu.enable(false, 'viewReplacementDetails');menu.enable(false, 'viewAnnouncementDetails');menu.enable(false, 'viewHolidayDetails');menu.open('viewAnnualDetails');"
                    (click)="menuOpen=true;menu.enable(true, 'viewAnnualDetails');menu.enable(false, 'viewReplacementDetails');menu.enable(false, 'viewAnnouncementDetails');menu.enable(false, 'viewHolidayDetails');menu.open('viewAnnualDetails');"
                    style="cursor: pointer;margin-top: 5px;float: right;color:#3b86ff;opacity: 0.8;line-height: 1.36;font-size: 11px;font-weight: bold;">
                    View
                    Details</p>
            </div>
            <div class="replacement">
                <p style="color:#43425d;opacity: 0.8;font-weight: bold;line-height: 1.25;font-size: 12px">Replacement
                    Leave
                </p>
                <ion-label *ngIf="replaceVal>-1"
                    style="float: left;font-size: 35px;color: #43425d;font-weight: bold;line-height: 1.26;">
                    {{replaceVal | number : '1.2-2'}}</ion-label>
                <img class="annual-icon" src="assets/icon/dashboard/icon_annual_leave@3x.png">
                <!-- <img class="replace-icon" src="assets/icon/dashboard/icon_replacement_leave@3x.png"> -->
                <p style="font-size: 12px;opacity: 0.5;color: #43425d;line-height: 1.25;display: inline-block;
                margin-bottom: 0;width: 100%;">Days Available</p>
                <p *ngIf="replaceVal != 0"
                    style="float:left;color: #ff6768;opacity: 0.8;font-weight: bold;font-size: 11px;line-height: 1.36;margin-top: 5px;">
                    {{replaceVal | number : '1.2-2'}} Expiring in {{RLDaysToGo}} days
                </p>

                <p (click)="menuOpen=true;menu.enable(true, 'viewReplacementDetails');menu.enable(false, 'viewAnnualDetails');menu.enable(false, 'viewAnnouncementDetails');menu.enable(false, 'viewHolidayDetails');menu.open('viewReplacementDetails');"
                    style="cursor: pointer;margin-top: 5px;float: right;color:#3b86ff;opacity: 0.8;line-height: 1.36;font-size: 11px;font-weight: bold;">
                    View
                    Details</p>
            </div>
            <div class="medical">
                <p style="font-size: 12px;color:#43425d;opacity: 0.8;font-weight: bold;line-height: 1.25;">Medical Leave
                </p>
                <ion-label *ngIf="medicalVal>-1"
                    style="float: left;font-size: 35px;color: #43425d;font-weight: bold;line-height: 1.26;">
                    {{medicalVal | number : '1.2-2'}}</ion-label>
                <img class="annual-icon" src="assets/icon/dashboard/icon_annual_leave@3x.png">
                <!-- <img class="medical-icon" src="assets/icon/dashboard/icon_medical@3x.png"> -->
                <p style="font-size: 12px;opacity: 0.5;color: #43425d;line-height: 1.25;display: inline-block;
                    margin-bottom: 0;width: 100%;">Days Available</p>
            </div>
            <div class="birthday" style="position: relative;">
                <p style="font-size: 12px;color:#43425d;opacity: 0.8;font-weight: bold;line-height: 1.25;">Birthday
                    Leave
                </p>
                <ion-label style="float: left;font-size: 35px;color: #43425d;font-weight: bold;line-height: 1.26;">
                    {{birthdayDetail.day}} {{birthdayDetail.month}}</ion-label>
                <img class="annual-icon" src="assets/icon/dashboard/icon_annual_leave@3x.png">
                <p style="font-size: 12px;opacity: 0.5;color: #43425d;line-height: 1.25;display: inline-block;
                        margin-bottom: 0;width: 100%;">{{birthdayDetail.remainingDays}} </p>
            </div>
        </span>
    </div>

    <div class="row" *ngIf="row">
        <div class="annoucement">
            <div style="background-color: #ffffff;padding: 10px;">
                <div
                    style="font-size: 12px;width:100%;background: #f5f6fa;padding: 10px;padding-left: 15px;color: #a3a6b4;font-weight: bold;">
                    LATEST ANNOUNCEMENT<p *ngIf="announcements.length !== 0"
                        (click)="menuOpen=true;menu.enable(true, 'viewAnnouncementDetails');menu.enable(false, 'viewReplacementDetails');menu.enable(false, 'viewAnnualDetails');menu.enable(false, 'viewHolidayDetails');menu.open('viewAnnouncementDetails');"
                        style="cursor: pointer;margin-top: 0px;float: right;margin-right: 5px;color:#3b86ff;opacity: 0.8;line-height: 1.36;font-size: 11px;font-weight: bold;">
                        View Details</p>
                </div>
                <ion-row style="width: 100%;" *ngFor="let item of announcements; let i = index;">
                    <ng-container style="padding-top: 2%;" *ngIf="i<3">
                        <ion-col align-self-center size="3"
                            style="padding-left: 15px;color:#4d4f5c;font-size:11px;line-height: 1.82;">
                            {{item.CREATION_TS | date:'d MMM yyyy'}}
                        </ion-col>
                        <ion-col style="color:#4d4f5c;font-size:11px;line-height: 1.82;overflow: hidden;
                    white-space: nowrap;text-overflow: ellipsis;">
                            <span *ngIf="item.IS_PINNED === 1" style="font-weight: bold;color:#43425d;font-size:11px">
                                {{item.TITLE}} <br></span>
                            <p class="mainInnerText" [innerHTML]="item.MESSAGE"></p>
                            <!-- <ng-container *ngFor="let list of item.ATTACHMENT">
                                <img *ngIf="list !== '' && url" src="{{url.link + list}}" style="width: 50px;">
                            </ng-container> -->
                        </ion-col>
                        <ion-item *ngIf="i<2" class="divider" style="padding: 0;" lines="full"></ion-item>
                    </ng-container>
                </ion-row>
                <ng-container>
                    <p *ngIf="announcements.length === 0"
                        style="padding-left: 15px;color: rgb(77, 79, 92);font-size: 11px;line-height: 1.82;">
                        No latest announcement</p>
                </ng-container>
            </div>
        </div>
        <div class="holiday" *ngIf="holidays">
            <div style="background-color: #ffffff;padding: 10px;">
                <div
                    style="font-size: 12px;width:100%;background: #f5f6fa;padding: 10px;padding-left: 15px;color: #a3a6b4;font-weight: bold;">
                    UPCOMING HOLIDAYS<p *ngIf="holidays.length !== 0" (click)="menuOpen=true;menu.enable(true, 'viewHolidayDetails');menu.enable(false, 'viewReplacementDetails');menu.enable(false, 'viewAnnualDetails');
                menu.enable(false, 'viewAnnouncementDetails');menu.open('viewHolidayDetails');"
                        style="cursor: pointer;margin-top: 0px;float: right;margin-right: 5px;color:#3b86ff;opacity: 0.8;line-height: 1.36;font-size: 11px;font-weight: bold;">
                        View Details</p>
                </div>
                <ion-row style="width: 100%;" *ngFor="let item of holidays; let i = index;">
                    <ng-container style="padding-top: 2%;" *ngIf="i<3">
                        <ion-col size="3" style="padding-left: 15px;color:#4d4f5c;font-size:11px;line-height: 1.82;">
                            <ion-label>{{item.start}}</ion-label>
                        </ion-col>
                        <ion-col size="3">
                            <mat-chip-list>
                                <mat-chip class="mainChip">
                                    <p
                                        style="white-space: nowrap;width: 100%;text-align: center;color: #ffffff;font-size: 9px;line-height: 2.22;">
                                        {{item.day}}</p>
                                </mat-chip>
                            </mat-chip-list>
                        </ion-col>
                        <ion-col style="color:#4d4f5c;font-size:11px;line-height: 1.82;">{{item.title}}
                        </ion-col>
                        <ion-item *ngIf="i<2" class="divider" lines="full"></ion-item>
                    </ng-container>
                </ion-row>
                <ng-container>
                    <p *ngIf="holidays.length === 0"
                        style="padding-left: 15px;color: rgb(77, 79, 92);font-size: 11px;line-height: 1.82;">
                        No upcoming holiday</p>
                </ng-container>
            </div>
        </div>
    </div>

    <div class="row" *ngIf="row" style="margin-bottom: 30px;">
        <div class="status">
            <div style="background-color: #ffffff;padding: 10px;" *ngIf="applicationStatus">
                <div
                    style="font-size: 12px;width:100%;background: #f5f6fa;padding: 10px;padding-left: 15px;color: #a3a6b4;font-weight: bold;">
                    MY LEAVE APPLICATION STATUS
                </div>
                <ng-container *ngIf="applicationStatus.length !== undefined">
                    <ion-list style="max-height: 250px;overflow: auto;">
                        <ion-item *ngFor="let item of applicationStatus">
                            <ion-row style="display: flex; flex: 1;">
                                <ng-container style="padding-top: 2%;">
                                    <ion-col align-self-center style="padding-left: 0px;color:#4d4f5c;font-size:11px;">
                                        <ion-text>
                                            You've requested {{item.leaveTypeName}} on
                                            {{item.dateApplied | date: 'dd MMM yyyy'}}.
                                            <div style="display: flex;">
                                                <p style="color: #43425d;line-height: 1.25;font-size: 11px;margin-top: 10px;
                                        margin-bottom: 5px;">
                                                    <strong>Start Date: </strong>
                                                    {{item.startDate | date: 'dd-MM-yyyy'}}
                                                </p>
                                                <p style="color: #43425d;line-height: 1.25;font-size: 11px;margin-top: 10px;
                                            margin-bottom: 5px;margin-left: 15px;">
                                                    <strong>End Date: </strong> {{item.endDate | date: 'dd-MM-yyyy'}}
                                                </p>
                                                <p style="color: #43425d;line-height: 1.25;font-size: 11px;margin-top: 10px;
                                                margin-bottom: 0;margin-left: 15px;">
                                                    <strong>Days: </strong> {{item.noOfDays}}</p>
                                            </div>
                                        </ion-text>
                                    </ion-col>
                                    <ion-col style="color: #4d4f5c;font-size: 11px;text-align: right;"
                                        align-self-center>
                                        <mat-chip-list>
                                            <mat-chip style="cursor: pointer;"
                                                (click)="item.status !== 'CANCELLED'? openStatusDialog(item): ''"
                                                [ngClass]="{
                                            'approvedColor': item.status == 'APPROVED','rejectColor': item.status == 'REJECTED', 'cancelColor': item.status == 'CANCELLED', 'pendingColor': item.status == 'PENDING'}">

                                                <p
                                                    style="white-space: nowrap;width: 100%;text-align: center;color: white;font-size: 10px;line-height: 2.22;">
                                                    {{item.status | titlecase}}</p>
                                            </mat-chip>
                                        </mat-chip-list>
                                    </ion-col>
                                </ng-container>
                            </ion-row>
                        </ion-item>
                    </ion-list>
                </ng-container>
                <ng-container *ngIf="applicationStatus.length === undefined">
                    <p style="padding-left: 15px;color: rgb(77, 79, 92);font-size: 11px;line-height: 1.82;">
                        No leave application applied</p>
                </ng-container>
            </div>
        </div>

        <div class="tasks" *ngIf="tasks" [style.display]="tasks.status == 'Not available'? 'none':''">
            <div style="background-color: #ffffff;padding: 10px;" *ngIf="tasks.status !== 'Not available'">
                <div
                    style="font-size: 12px;width:100%;background: #f5f6fa;padding: 10px;padding-left: 15px;color: #a3a6b4;font-weight: bold;">
                    MY TASKS
                </div>
                <ng-container *ngIf="tasks.status !== 'No pending leave'">
                    <ion-list style="max-height: 250px;overflow: auto;">
                        <ion-item *ngFor="let item of tasks">
                            <ion-row style="display: flex; flex: 1;">
                                <ng-container style="padding-top: 2%;">
                                    <ion-col align-self-center style="padding-left: 0px;color:#4d4f5c;font-size:11px;">
                                        <ion-text>
                                            {{item.employeeName}} requested {{item.leaveTypeName}} on
                                            {{item.dateApplied | date: 'dd MMM yyyy'}}.
                                            <div style="display: flex;">
                                                <p style="color: #43425d;line-height: 1.25;font-size: 11px;margin-top: 10px;
                                        margin-bottom: 5px;">
                                                    <strong>Start Date: </strong>
                                                    {{item.startDate | date: 'dd-MM-yyyy'}}
                                                </p>
                                                <p style="color: #43425d;line-height: 1.25;font-size: 11px;margin-top: 10px;
                                            margin-bottom: 5px;margin-left: 15px;">
                                                    <strong>End Date: </strong> {{item.endDate | date: 'dd-MM-yyyy'}}
                                                </p>
                                                <p style="color: #43425d;line-height: 1.25;font-size: 11px;margin-top: 10px;
                                                margin-bottom: 0;margin-left: 15px;">
                                                    <strong>Days: </strong> {{item.noOfDays}}</p>
                                            </div>
                                        </ion-text>
                                    </ion-col>
                                    <ion-col style="color: #4d4f5c;font-size: 11px;text-align: right;"
                                        align-self-center>
                                        <mat-chip-list>
                                            <mat-chip style="cursor: pointer;" (click)="openTaskDialog(item)"
                                                [ngClass]="{
                                            'approvedColor': item.status == 'APPROVED','rejectColor': item.status == 'REJECTED', 'cancelColor': item.status == 'CANCELLED', 'pendingColor': item.status == 'PENDING'}">
                                                <p
                                                    style="white-space: nowrap;width: 100%;text-align: center;color: white;font-size: 10px;line-height: 2.22;">
                                                    {{item.status | titlecase}}</p>
                                            </mat-chip>
                                        </mat-chip-list>
                                    </ion-col>
                                </ng-container>
                            </ion-row>
                        </ion-item>
                    </ion-list>
                </ng-container>
                <ng-container *ngIf="tasks.status === 'No pending leave'">
                    <p style="padding-left: 15px;color: rgb(77, 79, 92);font-size: 11px;line-height: 1.82;">
                        No task assigned to you</p>
                </ng-container>
            </div>
        </div>

        <div class="longleave" *ngIf="longLeave" [style.display]="longLeave.downline.length == 0 ? 'none':''">
            <div style="background-color: #ffffff;padding: 10px;">
                <div
                    style="font-size: 12px;width: 100%;background: #f5f6fa;padding: 10px;color: #a3a6b4;font-weight: bold;">
                    <ion-row>
                        <ion-col align-self-center size="9"
                            style="overflow: hidden;white-space: nowrap;text-overflow: ellipsis;">
                            LONG LEAVE REMINDER</ion-col>
                        <ion-col align-self-center size="3"
                            style="white-space: nowrap;text-overflow: ellipsis;padding-left: 10px;">START ON
                        </ion-col>
                    </ion-row>
                </div>
                <div style="max-height: 250px;overflow: auto;width: 100%;">
                    <ion-list class="list" style="width: 100%;">
                        <ion-row *ngFor="let item of longLeave.downline; let i=index">
                            <ion-col size="9"
                                style="padding: 0;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;">
                                <ion-item lines="none">
                                    <ng-container *ngFor="let list of url.details; let j= index">
                                        <ng-container *ngIf="url.details[j].USER_GUID == item.userGuid">
                                            <ion-avatar class="avatar"
                                                *ngIf="url && url.details[j].PROFILE_PICTURE !== null">
                                                <img src="{{url.link + url.details[j].PROFILE_PICTURE}}">
                                            </ion-avatar>
                                            <ion-avatar class="avatar"
                                                *ngIf="url && url.details[j].PROFILE_PICTURE === null">
                                                <img src="assets/icon/picture.png">
                                            </ion-avatar>
                                        </ng-container>
                                    </ng-container>
                                    <ion-label text-wrap class="labelText">
                                        <p
                                            style="color: #4d4f5c; font-size: 11px;white-space: pre-wrap; line-height: normal;margin: 5px 0px;">
                                            {{item.fullname}}
                                        </p>
                                        <p
                                            style="color: #4d4f5c; opacity: 0.8;font-size: 10px;white-space: pre-wrap; line-height: normal;margin: 5px 0px;">
                                            {{item.designation}}
                                        </p>
                                    </ion-label>
                                </ion-item>
                            </ion-col>
                            <ion-col align-self-center size="3"
                                style="overflow: initial;white-space: nowrap;text-overflow: ellipsis;font-size: 11px;line-height: 1.82;color: #4d4f5c;">
                                <ion-label text-wrap class="labelText">
                                    <p style="color: #4d4f5c; font-size: 11px;white-space: nowrap;margin: 0">
                                        {{item.startDate | date: 'dd MMM yyyy'}}
                                    </p>
                                    <p
                                        style="margin-bottom: 0;margin-right: 7px;color: #4d4f5c; opacity: 0.8;font-size: 10px;white-space: nowrap">
                                        Total: {{item.noOfDays}} Days
                                    </p>
                                </ion-label>
                            </ion-col>
                            <ion-item class="divider" lines="full"></ion-item>
                        </ion-row>
                    </ion-list>
                </div>
                <!-- <p *ngIf="longLeave.status != undefined"
                style="padding-left: 15px;color: rgb(77, 79, 92);font-size: 11px;line-height: 1.82;">
                No long leave reminder</p> -->
            </div>
        </div>

        <div class="reminder" *ngIf="longLeave" [style.flex.%]="longLeave.personal.length !== 0? '0':'24'"
            [style.display]="longLeave.personal.length == 0 ? 'none':''">
            <ng-container *ngFor="let item of longLeave.personal">
                <p style="color:#f0f0f7;font-weight: bold;line-height: 1.07;font-size: 14px;margin-bottom: 10px;">My
                    Long
                    Leave
                    Reminder</p>
                <img style="width: 27px;height:27px;" src="assets/icon/dashboard/icon_long_reminder@3x.png">
                <p style="color:#f0f0f7;line-height: 1.36;font-size: 11px;margin-top: 10px;margin-bottom: 5px;">Total
                    leave
                    taken:</p>
                <p
                    style="color:#5ee2a0;line-height: 1.26;font-size: 34px;font-weight: bold;margin-top: 0;margin-bottom: 0;">
                    {{item.noOfDays}} Days</p>
                <p style="color:#f0f0f7;line-height: 1.36;font-size: 11px;margin-top: 5px;">{{item.daysToGo}}</p>
                <p style="color:#f0f0f7;font-weight: bold;line-height: 1.25;font-size: 12px;margin-bottom: 5px;">From:
                    {{item.startDate | date: 'dd MMMM yyyy' | titlecase}}</p>
                <p style="color:#f0f0f7;font-weight: bold;line-height: 1.25;font-size: 12px;margin-top: 0">Until:
                    {{item.endDate | date: 'dd MMMM yyyy' | titlecase}}</p>
                <p style="color:#f0f0f7;line-height: 1.36;font-size: 11px;padding: 3% 17%;">*Kindly ensure to segregate
                    your
                    pending task / tasks
                    accordingly</p>
            </ng-container>
        </div>

    </div>
</div>

<div style="width: 100%; height:100%; text-align: center" *ngIf="showSpinner">
    <app-spinner style="width: 100%; height:100%; text-align: center" *ngIf="showSpinner"></app-spinner>
</div>